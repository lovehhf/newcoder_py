# -*- coding:utf-8 -*-

__author__ = 'huanghf'

# -*- coding:utf-8 -*-
class Solution:
    def __init__(self):
        self.res = 0

    def mergeCount(self, left, right):
        """
        归并2个有序数组，同时计算逆序对数量
        :param left:
        :param right:
        :return:
        """
        m, n = len(left), len(right)
        i, j = 0, 0
        nums = []
        while i < m and j < n:
            if left[i] <= right[j]:
                nums.append(left[i])
                i += 1
            else:
                self.res += (m - i)
                nums.append(right[j])
                j += 1
        if i == m:
            nums += right[j:]
        if j == n:
            nums += left[i:]
        return nums

    def mergeSort(self, nums):
        n = len(nums)
        if n <= 1:
            return nums
        mid = n >> 1
        left = self.mergeSort(nums[:mid])
        right = self.mergeSort(nums[mid:])
        return self.mergeCount(left,right)

    def InversePairs(self, data):
        # write code here
        self.mergeSort(data)
        ans = self.res%1000000007
        return ans

nums = [8136721,3853899,2698062,2997350,1582373,1618242,1666646,4595939,9705888,2689867,9224853,2084694,8274321,6762922,9883921,2081679,4639521,5903382,8546743,6061572,8562969,7538284,5936521,1496367,818840,1581727,6992216,5376435,8948578,3724283,5713654,8324452,3423639,1356144,889462,9286690,1821805,4497326,4989770,4757531,5694957,1013944,9143090,7915383,9829892,5552163,9258849,2190764,6368627,1794654,1966793,2554078,6918390,9425648,2885240,9602259,881035,1617191,5033721,6990087,2585801,3621712,1223915,7082800,9286595,9507097,5026714,4315676,1785312,7065085,3431733,2720215,4781828,9377659,9909240,4456528,1563638,9539845,2266514,3905183,4677010,9993641,3756310,1355797,5445618,8788912,5356381,9562262,6740028,8850502,4232811,5408267,1661630,2898007,6388803,3888404,2838623,5478084,8114716,3879113,6188984,7687072,8257760,4744484,5301127,6469460,5521052,9933360,5438133,6021147,5404536,3855793,395765,2854211,6199135,8497043,9579488,9840612,6743946,3473977,3956635,5274685,8960934,7644923,2050094,1109758,2693132,7336472,5654136,9806063,2383364,4423279,4284693,564427,716028,4453030,5693860,7043956,2134788,5728378,53693,9230374,7859255,9570118,5538533,1495231,1699995,4507558,6218484,8201619,9477807,1754135,4492801,1431388,3652527,5719643,2141809,1515813,3468709,4497923,6550664,4099651,7001932,1711846,8448286,1096974,2157263,7773145,6422228,3741757,1632185,7512976,4706586,1054793,6056899,5965471,9780463,6942783,7402233,4388106,3380872,7195736,3715189,3005815,2781771,2601052,8600503,5287737,9261164,1455358,7666858,7592417,7175395,4075354,4272539,8081117,3478145,3931009,1111914,1617287,9332208,2983385,1045680,3619092,7551300,6696766,3036888,7274274,9433001,6002050,2286204,6871405,6048330,4280433,3136403,2679507,9909826,393108,7939582,912602,2655924,7808093,1795472,3712551,8884570,5186151,6116175,6326686,2514600,9835854,199871,1946327,5461442,8445386,8619104,453693,9031286,8034154,372043,2174071,2920712,7983014,8739828,3648382,1789349,5944235,8498336,5723497,567104,3388185]
s = Solution()
print(s.InversePairs(nums))